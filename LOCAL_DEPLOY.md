# æœ¬åœ°éƒ¨ç½²æŒ‡å— - å‰åŽç«¯è¿žæŽ¥

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ å®Œæ•´éƒ¨ç½² NOF0 é¡¹ç›®ï¼Œè®©å‰ç«¯èƒ½å¤ŸæŽ¥æ”¶åŽç«¯ä¼ æ¥çš„æ•°æ®ã€‚

## ðŸ“‹ å‰ç½®è¦æ±‚

- âœ… Node.js 18+ (å·²å®‰è£…)
- âœ… Go 1.22+ (å·²å®‰è£…)
- âœ… æ•°æ®æ–‡ä»¶ç›®å½• `mcp/data` å­˜åœ¨

## ðŸš€ å®Œæ•´éƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨åŽç«¯æœåŠ¡

#### 1.1 è¿›å…¥åŽç«¯ç›®å½•å¹¶æž„å»º

```bash
cd go

# å®‰è£… Go ä¾èµ–
go mod download

# æž„å»ºåŽç«¯æœåŠ¡
go build -o nof0-api ./nof0.go
```

#### 1.2 è®¾ç½®çŽ¯å¢ƒå˜é‡ï¼ˆç”¨äºŽæœ¬åœ°å¼€å‘ï¼‰

å¦‚æžœåªæ˜¯æŸ¥çœ‹æ•°æ®ï¼Œéœ€è¦è®¾ç½®å ä½ç¬¦ API keyï¼š

```bash
# è®¾ç½®å ä½ç¬¦ LLM API keyï¼ˆä»…ç”¨äºŽæœ¬åœ°å¼€å‘ï¼Œä¸ä¼šå®žé™…è°ƒç”¨ LLMï¼‰
export ZENMUX_API_KEY=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

# è®¾ç½®å ä½ç¬¦ Hyperliquid ç§é’¥ï¼ˆä»…ç”¨äºŽæœ¬åœ°å¼€å‘ï¼Œä¸ä¼šå®žé™…äº¤æ˜“ï¼‰
export HYPERLIQUID_PRIVATE_KEY=0000000000000000000000000000000000000000000000000000000000000001
```

**æ³¨æ„**: 
- è¿™äº›å ä½ç¬¦å€¼ä»…ç”¨äºŽè®©æœåŠ¡å¯åŠ¨ï¼Œä¸ä¼šå®žé™…è°ƒç”¨ LLM æˆ–è¿›è¡Œäº¤æ˜“
- å¦‚æžœä½ æœ‰çœŸå®žçš„ API key å’Œç§é’¥ï¼Œå¯ä»¥è®¾ç½®çœŸå®žçš„å€¼
- ä»…æŸ¥çœ‹æ•°æ®åŠŸèƒ½ä¸å—å½±å“ï¼ŒæœåŠ¡ä¼šä»Ž `mcp/data/*.json` æ–‡ä»¶è¯»å–æ•°æ®

#### 1.3 å¯åŠ¨åŽç«¯æœåŠ¡

```bash
# ä½¿ç”¨æ–‡ä»¶æ•°æ®æºæ¨¡å¼å¯åŠ¨ï¼ˆæŽ¨èï¼Œæ— éœ€æ•°æ®åº“ï¼‰
./nof0-api -f etc/nof0.yaml
```

**é¢„æœŸè¾“å‡º**:
```
Starting server at 0.0.0.0:8888...
```

åŽç«¯æœåŠ¡çŽ°åœ¨è¿è¡Œåœ¨ `http://localhost:8888`

#### 1.3 éªŒè¯åŽç«¯æ˜¯å¦æ­£å¸¸

æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£ï¼Œæµ‹è¯• APIï¼š

```bash
# æµ‹è¯•æŽ’è¡Œæ¦œ API
curl http://localhost:8888/api/leaderboard

# æµ‹è¯•ä»·æ ¼ API
curl http://localhost:8888/api/crypto-prices

# æµ‹è¯•äº¤æ˜“è®°å½• API
curl http://localhost:8888/api/trades
```

å¦‚æžœè¿”å›ž JSON æ•°æ®ï¼Œè¯´æ˜ŽåŽç«¯æ­£å¸¸è¿è¡Œã€‚

---

### ç¬¬äºŒæ­¥ï¼šé…ç½®å‰ç«¯è¿žæŽ¥åŽç«¯

#### 2.1 åˆ›å»ºå‰ç«¯çŽ¯å¢ƒå˜é‡æ–‡ä»¶

åœ¨ `web` ç›®å½•ä¸‹åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```bash
cd web
cat > .env.local << 'EOF'
# ä½¿ç”¨æœ¬åœ°åŽç«¯ API
NEXT_PUBLIC_NOF1_API_BASE_URL=http://localhost:8888
NOF1_API_BASE_URL=http://localhost:8888
EOF
```

æˆ–è€…æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶ `web/.env.local`ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```bash
# ä½¿ç”¨æœ¬åœ°åŽç«¯ API
NEXT_PUBLIC_NOF1_API_BASE_URL=http://localhost:8888
NOF1_API_BASE_URL=http://localhost:8888
```

#### 2.2 å®‰è£…å‰ç«¯ä¾èµ–ï¼ˆå¦‚æžœè¿˜æ²¡å®‰è£…ï¼‰

```bash
cd web
npm install
```

---

### ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨å‰ç«¯æœåŠ¡

#### 3.1 å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

```bash
cd web
npm run dev
```

**é¢„æœŸè¾“å‡º**:
```
  â–² Next.js 16.0.0
  - Local:        http://localhost:3000
  - Ready in X.Xs
```

#### 3.2 è®¿é—®å‰ç«¯é¡µé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š**http://localhost:3000**

---

## âœ… éªŒè¯éƒ¨ç½²

### æ£€æŸ¥åŽç«¯ API

åœ¨æµè§ˆå™¨æˆ–ç»ˆç«¯ä¸­æµ‹è¯•ï¼š

```bash
# æµ‹è¯•æ‰€æœ‰ä¸»è¦ç«¯ç‚¹
curl http://localhost:8888/api/leaderboard | jq .
curl http://localhost:8888/api/crypto-prices | jq .
curl http://localhost:8888/api/trades | jq .
curl http://localhost:8888/api/account-totals | jq .
```

### æ£€æŸ¥å‰ç«¯æ•°æ®åŠ è½½

1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)
2. åˆ‡æ¢åˆ° **Network** æ ‡ç­¾
3. åˆ·æ–°é¡µé¢
4. æŸ¥çœ‹ `/api/nof1/*` çš„è¯·æ±‚
5. ç¡®è®¤è¯·æ±‚çŠ¶æ€ä¸º `200 OK`
6. æŸ¥çœ‹å“åº”æ•°æ®æ˜¯å¦æ­£å¸¸

### æ£€æŸ¥æŽ§åˆ¶å°é”™è¯¯

åœ¨æµè§ˆå™¨æŽ§åˆ¶å°ï¼ˆConsoleï¼‰ä¸­ï¼Œä¸åº”è¯¥çœ‹åˆ°ä»¥ä¸‹é”™è¯¯ï¼š
- âŒ `Request failed`
- âŒ `CORS error`
- âŒ `Network error`

---

## ðŸ”§ å¸¸è§é—®é¢˜æŽ’æŸ¥

### é—®é¢˜ 1: å‰ç«¯æ˜¾ç¤º "Request failed" é”™è¯¯

**åŽŸå› **: åŽç«¯æœªå¯åŠ¨æˆ–ç«¯å£ä¸å¯¹

**è§£å†³**:
```bash
# 1. æ£€æŸ¥åŽç«¯æ˜¯å¦è¿è¡Œ
curl http://localhost:8888/api/leaderboard

# 2. å¦‚æžœå¤±è´¥ï¼Œé‡æ–°å¯åŠ¨åŽç«¯
cd go
./nof0-api -f etc/nof0.yaml
```

### é—®é¢˜ 2: CORS é”™è¯¯

**åŽŸå› **: åŽç«¯ CORS é…ç½®é—®é¢˜

**è§£å†³**: æ£€æŸ¥ `go/etc/nof0.yaml` ä¸­çš„ CORS é…ç½®ï¼š
```yaml
Cors:
  AllowOrigins: ['*']  # åº”è¯¥å…è®¸æ‰€æœ‰æ¥æº
```

### é—®é¢˜ 3: å‰ç«¯æ˜¾ç¤ºç©ºç™½æˆ–åŠ è½½ä¸­

**åŽŸå› **: çŽ¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ

**è§£å†³**:
```bash
# 1. ç¡®è®¤ .env.local æ–‡ä»¶å­˜åœ¨
ls -la web/.env.local

# 2. ç¡®è®¤å†…å®¹æ­£ç¡®
cat web/.env.local

# 3. é‡å¯å‰ç«¯æœåŠ¡ï¼ˆé‡è¦ï¼ï¼‰
# åœæ­¢å½“å‰æœåŠ¡ (Ctrl+C)
# é‡æ–°å¯åŠ¨
cd web
npm run dev
```

### é—®é¢˜ 4: API è·¯ç”±è¿”å›ž 404

**åŽŸå› **: Next.js è·¯ç”±æœªæ­£ç¡®è¯†åˆ«æˆ–éœ€è¦é‡å¯

**è§£å†³**:
```bash
# 1. ç¡®è®¤è·¯ç”±æ–‡ä»¶å­˜åœ¨
ls -la web/src/app/api/nof1/\[...path\]/route.ts

# 2. æ¸…é™¤ Next.js ç¼“å­˜å¹¶é‡å¯
cd web
rm -rf .next
npm run dev

# 3. éªŒè¯åŽç«¯æ˜¯å¦å¯è®¿é—®
curl http://localhost:8888/api/leaderboard

# 4. éªŒè¯å‰ç«¯ä»£ç†æ˜¯å¦å·¥ä½œ
curl http://localhost:3000/api/nof1/leaderboard
```

### é—®é¢˜ 4: åŽç«¯è¿”å›ž 404

**åŽŸå› **: API è·¯å¾„ä¸åŒ¹é…

**è§£å†³**: 
- åŽç«¯ API è·¯å¾„åº”è¯¥æ˜¯ `/api/*`
- å‰ç«¯è¯·æ±‚è·¯å¾„æ˜¯ `/api/nof1/*`
- Next.js ä»£ç†ä¼šå°† `/api/nof1/*` è½¬å‘åˆ°åŽç«¯çš„ `/api/*`

### é—®é¢˜ 5: æ•°æ®æ–‡ä»¶æœªæ‰¾åˆ°

**åŽŸå› **: æ•°æ®è·¯å¾„é…ç½®é”™è¯¯

**è§£å†³**: æ£€æŸ¥ `go/etc/nof0.yaml`:
```yaml
DataPath: ../mcp/data  # ç¡®ä¿è¿™ä¸ªè·¯å¾„å­˜åœ¨
```

éªŒè¯ï¼š
```bash
ls -la mcp/data/*.json
```

---

## ðŸ“Š æ•°æ®æµéªŒè¯

### å®Œæ•´æ•°æ®æµè·¯å¾„

```
å‰ç«¯é¡µé¢ (localhost:3000)
  â†“
Next.js API è·¯ç”± (/api/nof1/leaderboard)
  â†“
åŽç«¯ API (localhost:8888/api/leaderboard)
  â†“
æ•°æ®åŠ è½½å™¨ (ä»Ž mcp/data/*.json è¯»å–)
  â†“
è¿”å›ž JSON æ•°æ®
  â†“
å‰ç«¯æ˜¾ç¤º
```

### æ‰‹åŠ¨æµ‹è¯•æ•°æ®æµ

1. **æµ‹è¯•åŽç«¯ç›´æŽ¥è¿”å›ž**:
   ```bash
   curl http://localhost:8888/api/leaderboard
   ```
   åº”è¯¥è¿”å›ž JSON æ•°æ®

2. **æµ‹è¯• Next.js ä»£ç†**:
   ```bash
   curl http://localhost:3000/api/nof1/leaderboard
   ```
   åº”è¯¥è¿”å›žç›¸åŒçš„ JSON æ•°æ®

3. **æµ‹è¯•å‰ç«¯é¡µé¢**:
   - æ‰“å¼€ http://localhost:3000
   - æŸ¥çœ‹æŽ’è¡Œæ¦œæ˜¯å¦æ˜¾ç¤ºæ•°æ®

---

## ðŸŽ¯ å¿«é€Ÿå¯åŠ¨è„šæœ¬

åˆ›å»ºå¯åŠ¨è„šæœ¬æ–¹ä¾¿ä½¿ç”¨ï¼š

### å¯åŠ¨åŽç«¯è„šæœ¬ (`start-backend.sh`)

```bash
#!/bin/bash
cd go
echo "æž„å»ºåŽç«¯..."
go build -o nof0-api ./nof0.go
echo "å¯åŠ¨åŽç«¯æœåŠ¡..."
./nof0-api -f etc/nof0.yaml
```

### å¯åŠ¨å‰ç«¯è„šæœ¬ (`start-frontend.sh`)

```bash
#!/bin/bash
cd web
echo "å¯åŠ¨å‰ç«¯æœåŠ¡..."
npm run dev
```

### ä¸€é”®å¯åŠ¨è„šæœ¬ (`start-all.sh`)

```bash
#!/bin/bash

# å¯åŠ¨åŽç«¯ï¼ˆåŽå°è¿è¡Œï¼‰
cd go
go build -o nof0-api ./nof0.go
./nof0-api -f etc/nof0.yaml &
BACKEND_PID=$!
echo "åŽç«¯å·²å¯åŠ¨ (PID: $BACKEND_PID)"

# ç­‰å¾…åŽç«¯å¯åŠ¨
sleep 2

# å¯åŠ¨å‰ç«¯
cd ../web
npm run dev &
FRONTEND_PID=$!
echo "å‰ç«¯å·²å¯åŠ¨ (PID: $FRONTEND_PID)"

echo ""
echo "âœ… æœåŠ¡å·²å¯åŠ¨ï¼"
echo "   åŽç«¯: http://localhost:8888"
echo "   å‰ç«¯: http://localhost:3000"
echo ""
echo "æŒ‰ Ctrl+C åœæ­¢æ‰€æœ‰æœåŠ¡"

# ç­‰å¾…ç”¨æˆ·ä¸­æ–­
wait
```

---

## ðŸ“ çŽ¯å¢ƒå˜é‡è¯´æ˜Ž

### å‰ç«¯çŽ¯å¢ƒå˜é‡ (`web/.env.local`)

| å˜é‡å | è¯´æ˜Ž | é»˜è®¤å€¼ |
|--------|------|--------|
| `NEXT_PUBLIC_NOF1_API_BASE_URL` | å‰ç«¯ API åŸºç¡€ URL | `https://nof1.ai/api` |
| `NOF1_API_BASE_URL` | Next.js ä»£ç†çš„ä¸Šæ¸¸ URL | `https://nof1.ai/api` |

### åŽç«¯çŽ¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

å¦‚æžœéœ€è¦ä½¿ç”¨æ•°æ®åº“æˆ– LLM åŠŸèƒ½ï¼š

```bash
# LLM API Keyï¼ˆå¯é€‰ï¼‰
export ZENMUX_API_KEY=your_key_here

# Hyperliquid ç§é’¥ï¼ˆå¯é€‰ï¼‰
export HYPERLIQUID_PRIVATE_KEY=your_key_here

# PostgreSQL è¿žæŽ¥ï¼ˆå¯é€‰ï¼‰
export Postgres__DataSource=postgres://user:pass@localhost:5432/nof0?sslmode=disable
```

---

## ðŸŽ‰ éƒ¨ç½²æˆåŠŸæ ‡å¿—

å½“ä½ çœ‹åˆ°ä»¥ä¸‹æƒ…å†µæ—¶ï¼Œè¯´æ˜Žéƒ¨ç½²æˆåŠŸï¼š

1. âœ… åŽç«¯æœåŠ¡è¿è¡Œåœ¨ `http://localhost:8888`
2. âœ… å‰ç«¯æœåŠ¡è¿è¡Œåœ¨ `http://localhost:3000`
3. âœ… æµè§ˆå™¨æ‰“å¼€ `http://localhost:3000` æ˜¾ç¤ºé¡µé¢
4. âœ… é¡µé¢ä¸Šçš„æ•°æ®æ­£å¸¸æ˜¾ç¤ºï¼ˆæŽ’è¡Œæ¦œã€äº¤æ˜“è®°å½•ç­‰ï¼‰
5. âœ… æµè§ˆå™¨ Network é¢æ¿ä¸­ API è¯·æ±‚è¿”å›ž 200 çŠ¶æ€ç 
6. âœ… æµè§ˆå™¨æŽ§åˆ¶å°æ²¡æœ‰é”™è¯¯ä¿¡æ¯

---

## ðŸ”„ æ—¥å¸¸ä½¿ç”¨

### å¯åŠ¨é¡¹ç›®

```bash
# ç»ˆç«¯ 1: å¯åŠ¨åŽç«¯
cd go
./nof0-api -f etc/nof0.yaml

# ç»ˆç«¯ 2: å¯åŠ¨å‰ç«¯
cd web
npm run dev
```

### åœæ­¢é¡¹ç›®

- åŽç«¯: åœ¨è¿è¡ŒåŽç«¯çš„ç»ˆç«¯æŒ‰ `Ctrl+C`
- å‰ç«¯: åœ¨è¿è¡Œå‰ç«¯çš„ç»ˆç«¯æŒ‰ `Ctrl+C`

---

## ðŸ“š ç›¸å…³æ–‡æ¡£

- [å¿«é€Ÿå¯åŠ¨æŒ‡å—](QUICKSTART.md)
- [å‰ç«¯æ•°æ®æºè¯´æ˜Ž](web/docs/data-source.md)
- [åŽç«¯ README](go/README.md)

---

**ç¥ä½ éƒ¨ç½²é¡ºåˆ©ï¼** ðŸš€

